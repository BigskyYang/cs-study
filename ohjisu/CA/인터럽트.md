### 📌 한줄 정리

인터럽트는 **CPU가 프로그램 실행 중에 외부·내부 요청 신호를 받으면  현재 작업을 중단하고 우선 순위가 높은 다른 프로그램에게 CPU를 할당해서 실행하는 메커니즘**이다.

---

### 종류

---

1. **내부 인터럽트 (트랩, 예외)**
    - 프로그램 실행 중 오류 발생
    - 예: 0으로 나누기, 오버플로우
        - 프로그램 인터럽트
            - Over Flow : 계산 시 자리 넘침으로 인해 쓰기가 허가되지 않은 메모리 영역에 액세스했을 때 프로그램 인터럽트가 발생함
            - 그 밖에, 페이지 폴트, 트레이스, 슈퍼바이저 콜, 명령 코드 이상 등이 있음
2. **외부 인터럽트**
    - 주변 기기의 입출력 동작이나 하드웨어 고장, 오작동으로 인해 일어나는 인터럽트
        - 기계 체크 인터럽트: 전원 이상, 하드웨어 장애
        - 타이머 인터럽트: 일정 시간 혹은 일정 시간 마다 발생
        - 입출력 인터럽트: 주변 기기의 상태가 변화했을 시
        - 콘솔 인터럽트: 사용자가 입출력 장치 조작 시

### **인터럽트가 없는 세상 (폴링, Polling 방식)**

---

CPU가 계속해서 현재 프로그램에 불필요한 동작을 확인하여 에너지를 낭비하게 되는 방식이다.
따라서인터럽트는 CPU가 불필요한 확인 작업을 하지 않고 자신의 중요한 연산에 집중할 수 있도록 만들어주는, **시스템의 효율성을 극대화하는 핵심 메커니즘**이다.

### 중단된 처리 내용은 언제, 어떻게 처리되나?

---

CPU는 하나의 명령어를 실행 완료하고, 다음 명령어를 실행하기 직전의 아주 짧은 순간에 인터럽트 신호가 있는지 확인한다. 신호가 있다면, 아래와 같은 과정이 진행된다.

1. **현재 작업 상태 저장 (Save State):**
    - 컴퓨터에서는 현재 실행 중이던 명령어의 주소(PC, Program Counter), 계산 중간값 등이 저장된 레지스터(Register) 값들을 **메모리(주로 스택 영역)나 프로세스 제어 블록(PCB)에 잠시 저장**해 둔다.
2. **인터럽트 원인 파악 및 핸들러 호출 (Find Handler):**
3. **인터럽트 서비스 루틴 실행 (Execute ISR):**
4. **원래 작업 상태 복구 (Restore State):**
    - 인터럽트 처리가 끝나면, 1단계에서 저장해두었던 명령어 주소(PC)와 레지스터 값들을 다시 CPU로 불러온다.
5. **원래 작업으로 복귀 (Return to Task):**
    - CPU는 아무 일도 없었다는 듯이, 중단되었던 바로 그 지점부터 원래 하던 프로그램의 다음 명령어를 실행하기 시작한다.

---

> **문맥 교환(Context Switching)**

**문맥 교환**은 CPU가 처리하는 대상을 프로세스 A에서 프로세스 B로 바꿀 때, 다음과 같은 일이 일어나는 것을 말한다.
> 
> 1. 프로세스 A의 **문맥**을 어딘가(A의 PCB)에 **저장**한다.
> 2. 프로세스 B의 **문맥**을 어딘가(B의 PCB)에서 가져와 CPU에 **로드**한다.
> - **Process Control Block(프로세스 제어 블록)**
>     
>     운영체제가 특정 프로세스를 관리하기 위해 필요한 모든 정보를 담고 있는 **'데이터 덩어리'** 또는 '명찰’
>     

---

- 문맥(Context)이란 '특정 프로그램이 실행되기 위해 필요한 모든 정보'를 뜻한다. 프로그램 카운터(PC), 레지스터 값, 사용하던 메모리 정보 등을 모두 포함하는 개념이다.
- 문맥 교환은 타이머 인터럽트(Timer Interrupt)와 직접적인 관련이 있다.
- 컴퓨터는 CPU가 하나라도 여러 프로그램(웹 브라우저, 음악 플레이어, 코드 에디터 등)이 동시에 실행되는 것처럼 보인다. 이는 운영체제가 아주 짧은 시간(예: 0.01초)마다 타이머 인터럽트를 발생시켜 CPU를 사용할 프로그램을 강제로 교체하기 때문이다.
- 작동 과정은 다음과 같다.
    1. 웹 브라우저가 CPU를 사용하고 있다.
    2. 타이머 인터럽트가 발생한다.
    3. 운영체제의 스케줄러(Scheduler) 코드가 실행된다.
    4. 스케줄러는 다음에 실행할 프로세스로 음악 플레이어를 결정한다.
    5. 문맥 교환이 발생하여, 웹 브라우저의 상태(문맥)를 저장하고 음악 플레이어의 상태(문맥)를 로드한다.
    6. 음악 플레이어가 잠시 실행된다.
    7. 다시 타이머 인터럽트가 발생하며 이 과정이 반복된다.

이 과정이 매우 빠르게 반복되므로 모든 프로그램이 동시에 실행되는 것처럼 보이는 멀티태스킹(Multitasking)이 가능하다.

즉, 인터럽트는 문맥 교환을 일으키는 **'방아쇠(Trigger)' 역할**을 한다.