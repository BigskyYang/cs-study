### 📌 한줄 정리

---

CPU는 연산을 수행하는 ALU, 해석하는 CU, 저장하는 레지스터로 이루어져 있다.

# CPU & 레지스터

---

1. **중앙처리장치(CPU)**
    - **연산장치(ALU) (계산 담당)** : 덧셈, 뺄셈 같은 산술연산과 논리연산을 수행
        1. 레지스터를 통해 **피연산자**를 받아들이고 제어장치로부터 수행할 연산을 알려주는 **제어 신호**를 받아들인다.
        2. 연산한 결괏값과 **플래그**를 내보낸다.
            - 연산을 수행한 결과는 숫자, 문자, 메모리 주소 등 다양하며 바로 메모리에 저장되지 않고 임시 저장소인 레지스터에 저장한다.
                - bec. 레지스터에 가는 속도가 메모리까지 가는 속도보다 훨씬 빠르다.
            - 대표적인 플래그 종류
                
                
                | 플래그 | 의미 | 값이 1일 때 | 사용 예시 |
                | --- | --- | --- | --- |
                | **부호 플래그 (Sign Flag, SF)** | 연산 결과의 최상위 비트(MSB) 값 | 결과가 음수임 (MSB=1) | `if(x < 0)` 조건 분기 |
                | **제로 플래그 (Zero Flag, ZF)** | 연산 결과가 0인지 여부 | 연산 결과 = 0 | `if(x == 0)` 분기 |
                | **캐리 플래그 (Carry Flag, CF)** | 덧셈 시 자리올림, 뺄셈 시 자리내림 여부 | 자리올림/자리내림 발생 | 부호 없는 정수 비교, 다중 워드 연산 |
                | **오버플로우 플래그 (Overflow Flag, OF)** | 부호 있는 연산에서 표현 범위 초과 여부 | 오버플로우 발생 | 부호 있는 정수 연산 검사 |
    - **제어장치(CU)** **(해석 담당)**: 명령어 해석, 실행 순서 제어
        - 제어 신호를 내보내고, 명령어를 해석한다.
            1. 제어장치는 클럭 신호를 받아들인다.
                1. 클럭: 컴퓨터의 모든 부품을 움직일수 있게 하는 시간 단위
            2. 해석해야 할 명령어를 받아들인다.
                1. 명령어 레지스터로부터 해석할 명령어를 받아들이고 해석한 뒤 제어신호르 발생시킨다.
            3. 플래그 레지스터 속 플래그 값을 받아들인다.
                1. ALU 연산에 대한 추가적인 상태 정보를 받아들여 참고해서 제어 신호를 발생시킨다.
            4. 제어 버스로 전달된 제어 신호를 받아들인다.
                1. CPU 외부 장치도 발생시킬 수 있다. 제어장치는 제어 버스를 통해 외부로부터 전달된 제어 신호를 받아들이기도 한다.
    - **레지스터(Register) (저장담당)** : CPU 내부의 초고속 임시 저장소
        - 프로그램 카운터: 메모리에서 가져올 명령어의 주소를 저장한다.
        - 명령어 레지스터: 방금 메모리에서 읽어 들인 명령어를 저장한다.
        - 메모리 주소 레지스터: 메모리의 주소를 저장한다. CPU가 읽어들이고자 하는 주소 값을 주소 버스로 보낼 때 메모리 주소 레지스터를 거친다.
        - 메모리 버퍼 레지스터: 메모리와 주고받을 값을 저장한다.
        - 플래그 레지스터: 연산 결과 또는 CPU의 상태에 대한 부가적인 정보를 저장한다.
        - 범용 레지스터: 다양하고 일반적인 상황에서 자유롭게 사용할 수 있는 레지스터. 데이터와 주소를 모두 저장할 수 있다.
            - 메모리 주소 레지스터 - 메모리 주소 값만, 메모리 버퍼 레지스터 - 데이터 버스로 주고받을 값만 저장하는 것과 구별됨
        - 스택 포인터
            - 스택의 꼭대기를 가리키는 레지스터
        - 베이스 레지스터: 프로그램이 사용하는 메모리의 **기준 주소**를 저장하는 레지스터.
            - 상대 주소 계산 및 메모리 보호에 사용된다.